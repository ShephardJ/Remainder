<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-90</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//music
music=instance_create(0,0,obj_play_dynamic_music);
// get max tiles and max point
var a1=31
do a1-=1;
until global.tile_array[a1,0]&gt;-1;
tiles_n=a1;

var a1=41
do a1-=1;
until global.point_array[a1,0]&gt;-1;
points_n=a1;

n=1920;

//init t_array
a1 = 0;
do 
{
    t_array[a1]=instance_create(0,1920-(tiles_n+1-a1)*50*7.8,obj_tile);
    t_array[a1].tile_n=a1;
    a1+=1;
}
until a1=tiles_n+1

player=instance_create(global.point_array[global.world_player_point,7],global.point_array[global.world_player_point,8],obj_player);
player.current_point=global.world_player_point;
player.x= global.point_array[player.current_point,7]*7.8;
player.y= n-(tiles_n+1-global.point_array[player.current_point,9])*50*7.8+global.point_array[player.current_point,8]*7.8

burn_move_to_x=player.x;
move_to_y=player.y;

//fire
burn_fx=instance_create(0,1920-(tiles_n+1)*50*7.8,obj_fire_front);

creep1=instance_create(1080/4,1920-(tiles_n+1)*50*7.8,obj_creep);
creep2=instance_create(2*1080/4,1920-(tiles_n+1)*50*7.8,obj_creep);
creep3=instance_create(3*1080/4,1920-(tiles_n+1)*50*7.8,obj_creep);

a1 = 9;
do
{
    flame[a1]=instance_create(24+a1*14*7.8,1920-(tiles_n+1)*50*7.8,obj_flame);
    a1-=1;
}
until a1=-1
n=9000;

burn_tile=global.burn_tile;
burning=0;
burning_track=0;
destroy=0;
burned=0;
do_burn=0;

touch=0;

if  global.point_array[global.world_player_point,0]=3&amp;&amp;(global.point_array[global.world_player_point,2]=1)
{
    instance_create(0,0,obj_world_travel);
    current_player_state=player_world_state.travel;
    /*next_player_state=player_world_state.travel;
    current_player_state=player_world_state.transition;*/
}
else 
{
    if global.point_array[global.world_player_point,2]=0
    {
        current_player_state=player_world_state.moving;
        next_player_state=player_world_state.turn;
    }
    else
    {
        current_player_state=player_world_state.turn;
        next_player_state=player_world_state.turn;
    }
}

temp_player_state=player_world_state.turn;

finaly=0
initialy=0

transition_count=0;
transition_delay=0;
master=-1;

//move camera

var nclamp=1920+(tiles_n+1-5)*50*7.8-(global.point_array[global.world_player_point,9]+1-2.5)*50*7.8;
n=nclamp;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch (current_player_state)
{
    case player_world_state.init : scr_crawl_init() ;break;
    case player_world_state.turn : scr_world_turn() ;break;
    case player_world_state.burning : scr_world_burning() ;break;
    case player_world_state.moving : ; scr_world_moving();break;
    case player_world_state.interacting : scr_world_interacting() ;break;
    case player_world_state.shoping : scr_world_shoping() ; break;
    case player_world_state.talking : scr_world_talking() ; break;
    case player_world_state.waiting : scr_world_waiting() ; break;
    case player_world_state.transition : scr_world_transition() ; break;
    case player_world_state.travel: scr_world_travel() ; break;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if global.point_array[global.world_player_point,9]=global.burn_tile global.dramatic=1;
else global.dramatic=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var txt_col=$f4f4f4;
draw_set_font(font0);
draw_set_colour(txt_col);
draw_set_halign(fa_center);
draw_set_valign(fa_top);
draw_text(1080/2,40,global.info_array[global.current_world,0]);
if !(instance_exists(obj_shop_master))
{
    //draw pause left
    draw_line_width(9*7.8,185*7.8,9*7.8,191*7.8,2*7.8);
    draw_line_width(13*7.8,185*7.8,13*7.8,191*7.8,2*7.8);
    //draw pause right
    draw_line_width(125*7.8,185*7.8,125*7.8,191*7.8,2*7.8);
    draw_line_width(129*7.8,185*7.8,129*7.8,191*7.8,2*7.8);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_player.current_point+=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_player.current_point+=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
